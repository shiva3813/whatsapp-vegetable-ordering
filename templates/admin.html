<!DOCTYPE html>
<html>
<head>
<title>Admin Dashboard</title>
<style>
body { font-family: Arial; background:#f4f6f8; margin:0; }
.header { background:#2c3e50; color:white; padding:15px 30px; font-size:22px; }
.container { padding:30px; }

.cards { display:flex; gap:20px; margin-bottom:25px; }
.card-box {
    background:white; padding:20px; border-radius:10px;
    flex:1; text-align:center; box-shadow:0 2px 8px rgba(0,0,0,0.1);
}
.card-box h2 { margin:0; color:#27ae60; }

.table-card {
    background:white; padding:20px; border-radius:10px;
    box-shadow:0 2px 8px rgba(0,0,0,0.1);
}

table { width:100%; border-collapse:collapse; margin-top:15px; }
th { background:#27ae60; color:white; padding:10px; }
td { padding:10px; text-align:center; border-bottom:1px solid #ddd; }
img { width:60px; border-radius:6px; }

.status { padding:5px 10px; border-radius:5px; color:white; }
.CONFIRMED { background:#3498db; }
.DELIVERED { background:#2ecc71; }

button {
    padding:6px 12px; border:none; border-radius:5px;
    background:#e67e22; color:white; cursor:pointer;
}
</style>
</head>

<body>

<div class="header">ðŸ›  Admin Dashboard</div>

<div class="container">

<div class="cards">
    <div class="card-box"><h3>Total Orders</h3><h2>{{ total }}</h2></div>
    <div class="card-box"><h3>Confirmed</h3><h2>{{ confirmed }}</h2></div>
    <div class="card-box"><h3>Delivered</h3><h2>{{ delivered }}</h2></div>
</div>

<div class="table-card">
<h3>ðŸ“¦ Orders</h3>

<table>
<tr>
    <th>ID</th>
    <th>Image</th>
    <th>Product</th>
    <th>Qty</th>
    <th>Status</th>
    <th>Action</th>
</tr>

{% for o in orders %}
<tr>
    <td>{{ o[0] }}</td>
    <td><img src="{{ url_for('static', filename='images/' + o[5]) }}"></td>
    <td>{{ o[2] }}</td>
    <td>{{ o[3] }}</td>
    <td><span class="status {{ o[4] }}">{{ o[4] }}</span></td>
    <td>
        {% if o[4] == "CONFIRMED" %}
        <a href="/update_status/{{ o[0] }}">
            <button>Mark Delivered</button>
        </a>
        {% else %}â€”{% endif %}
    </td>
</tr>
{% endfor %}
</table>
</div>

</div>
</body>
</html>
